# 函数

## 过程抽象概述

### 过程式程序设计

过程抽象指的是一个功能的使用者只需要知道相应的功能是什么，而不需要知道该功能是如何实现的一种抽象机制。

过程式程序设计是一种以功能为中心、基于功能分解和复合以及过程抽象的程序设计范式。一个过程式程序由一些完成特定功能的子程序构成，每个子程序包含一系列操作，它们是操作的封装体，实现了过程抽象。使用过程式编程可以使程序结构清晰，编译程序设计者驾驭问题的复杂度，也便于调试和维护。

### 子程序

子程序是拥有名字的一段代码，在程序中可以按代码名来调用和执行相应的代码。子程序在实现过程抽象的同时，也具有封装和信息隐藏的作用，也就是说，子程序内部如何实现对外界是不可见的。

## 宏定义

- **宏定义**是一种编译预处理命令，通过在编译之前将对宏的使用进行文字替换从而实现类似函数的功能但提高了执行效率。
- 注意：
    - 在定义宏时需要加上一定的括号，例如：`#define max(a, b) a > b ? a : b`
    - 有时会出现重复运算
    - 宏定义不进行参数类型检查和转换
    - 宏定义可能不利于一些工具对程序的处理


## 内联函数

- **内联函数**是指在定义函数时，在函数返回类型前加上一个关键词 `inline` ，它 _建议_ 编译器把该函数体展开到调用点，以提高函数调用的效率
- 注意：
    - 内联函数的高效以代码的复制为代价，因此建议只有函数较短的时候使用
    - 如果函数中包含循环，那么不要使用内联函数，否则得不偿失


## 带缺省值的形式参数

- C++中允许在声明函数时为函数的某些参数指定默认值，如果调用时没有提供相应的实参，就采用默认值。
- 注意：
    - 对参数默认值的指定应当位于形参表的右部，否则会出现问题
    - 在不同的源文件中，对同一个函数的声明可以对它同一个参数指定不同的默认值


## 函数名重载

- 函数名重载是为了应对功能相同但参数的类型或个数不同的函数的命名问题，这时可以给它们相同的命名。
- 究竟调用哪个重载函数，取决于实参与形参的匹配。实参与形参的匹配依赖于以下规则：
    - 精确匹配 ：类型相同
    - 提升匹配 ：整型 $\rightarrow$  实参；`float` 类型 $\rightarrow$ `double` 类型；`double` $\rightarrow$ `long double` 类型
    - 标准转换匹配
    - 自定义转换匹配