# 基本数据类型和表达式

## 基本数据类型

### 整数类型

按所描述的数值范围不同，C++中的整数类型可以分为：

- `int`
- `short int` 或 `short`
- `long int` 或 `long`
- `long long`

此外，C++还提供了无符号整数类型来描述非负整数：

- `unsigned int` 或 `unsigned`
- `unsigned short int` 或 `unsigned short`
- `unsigned long int` 或 `unsigned long`

### 实数类型

根据描述精度的不同，C++把实数类型分为：

- `float`
- `double`
- `long double`

### 字符类型

`ASCII` 是一种常用的采用单字节编码的字符集，包括英文字母、数字以及其他常用符号的编码。C++中用 `char` 类型来描述单字节编码字符集中的字符类型数据。对于一些本地化字符集，如 `GB2312` , `Big5` , `Shift-JIS` 等，C++中可用 2 个 `char` 类型的数据表示它们的编码。

由于编码是整数，因此它应当能够参加算术运算，C++中提供了 `signed char` 或 `unsigned char` 来保证这一点。

### 逻辑类型

在C++中，逻辑类型用 `bool` 表示，其值只有 2 个，`true` 和 `false` ，一般用 `1` 和 `0` 来存储。

在C++中，可以定义数据类型的别名以使程序简明清晰，这通常使用 `typedef` 或 `using`。

```cpp
typedef long long ll;
using ll = long long;
```

## 数据的表现形式

### 常量

#### 字面常量

C++中的字面常量包括整数类型字面常量、实数类型字面常量、字符类型字面常量和字符串字面常量。

- 整数类型字面常量
- 实数类型字面常量：默认为 `double` 类型
- 字符类型字面常量：使用转义序列 `\` 
- 字符串字面常量：使用双引号 `""` 括起来的一串字符

#### 符号常量

```cpp
const double PI = 3.1415926
#define PI 3.1415926
```

### 变量

在程序中，可变的数据用变量表示。一个变量包含名字、类型、值以及内存空间和地址等特征。

- 变量的名字：在C++中，变量的名字用标识符表示，它不能是C++的关键字
- 变量的类型
- 变量的值：值是变量表示的数据
- 变量的内存空间及地址：每个变量都会分配到一块内存空间，它们都有一个内存地址。变量事实上是内存空间的一个抽象。

## 操作符

操作符是描述对数据的基本操作。对操作符而言，数据称为操作数。

### 算术操作符

- 加 `+` 减 `-` 乘 `*` 除 `/` 取余 `%`
- 取负 `-` 取正 `+`
- 自增 `++` 自减 `--` ：自增自减操作符可以放在操作数的前面或后面

```cpp
int x = 1;
int y = (++x);// x = 2, y = 2, 先自增再赋值
int z = (x++);// x = 3, z = 2, 先赋值再自增
```

在进行算术操作时，需要注意**溢出**的问题。

### 关系与逻辑操作符

- 关系操作符：`>` `<` `>=` `<=` `==` `!=` 返回 `true` 或 `false`
- 逻辑操作符
    - 与 `&&`：只有两个条件均为 `true` 时才为 `true`
    - 或 `||`：只有两个条件均为 `false` 时才为 `false`
    - 非 `!`：相反
    - 短路求值：`true || x` 的结果为 `true`，`false && x` 的结果为 `false`，无论 `x` 如何

### 赋值操作符

- 简单赋值操作符 `=`
- 复合赋值操作符 `+=` `-=` `*=` `/=` `%=` `&=` `|=` `^=` `<<=` `>>=`

### 位操作符

在C++中可以对数据的二进制位进行操作，包括逻辑位操作与移位操作。

#### 逻辑位操作

- 按位取反 `~`：将 `1` 变为 `0`，`0` 变为 `1`
- 按位与 `&`：只有 `1 & 1` 才为 `1`，其余都为 `0`
- 按位或 `|`：只有 `0 | 0` 才为 `0`，其余都为 `1`
- 按位异或 `^`：`0 ^ 0` 和 `1 ^ 1` 为 `0` ，其余为 `1` 。即相同为 `0`，不同为 `1`

#### 移位操作

- 左移操作 `<<`：将第一个操作数的二进制表示左移第二个操作数的位数，高位舍弃，低位补 0
- 右移操作 `>>`：将第一个操作数的二进制表示右移第二个操作数的位数，低位舍弃，高位有 2 种处理
    - 对于无符号数或有符号数的非负数，高位补 0
    - 对于有符号数的负数，高位与原高位相同

### 其他操作符

- 条件操作符 `?:` ： `a > b ? a : b` 表示求 `a` 与 `b`  中较大者
- 逗号操作符 `,` ：从左到右依次运算，操作结果为最后一次运算的结果

### 操作符的目

操作符的目是指能一个操作符连接操作数的个数。

|  操作符   |    目     |
| :-------: | :-------: |
|   算术    |   双目    |
| 取正/取负 |   单目    |
| 自增/自减 |   单目    |
|   关系    |   双目    |
|   逻辑    | 双目/单目 |
|    位     | 双目/单目 |
|   赋值    |   双目    |
|   条件    |   三目    |

## 表达式

### 左值表达式

左值表达式的值存储在操作数中而不是内存的临时空间里，这样表达式就有明确的内存地址。包括：

- 一个变量
- 一个赋值表达式
- 一个前缀自增或自减操作表达式

### 操作符的结合性

操作符与操作数的结合分为左结合和右结合。

- 左结合：让左边的操作符和最近的操作数结合起来，双目运算符中除赋值运算符外都是左结合的
- 右结合：从右往左，单目运算符、双目运算符中的赋值运算符以及三目运算符都是右结合的

### 操作符的优先级

操作符的优先级由以下规则决定：

1. 单目、双目、三目、赋值的优先级依次降低
2. 双目操作的优先级按算术、移位、关系、逻辑位依次降低

根据操作符的优先级和结合性可以规定表达式的操作顺序：

- 先处理优先级高的操作符
- 优先级相同的操作符按结合性处理
- 加圆括号的操作优先